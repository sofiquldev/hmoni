"use strict";(()=>{var e={};e.id=297,e.ids=[297],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},3326:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>b,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f});var s={};t.r(s),t.d(s,{POST:()=>l});var i=t(9303),n=t(8716),u=t(670),o=t(7147),a=t.n(o),p=t(1017),c=t.n(p);async function l(e){try{let r=(await e.json()).email;if(!r)return new Response(JSON.stringify({error:"Email is required"}),{status:400});let t=c().join(process.cwd(),"public","subscribers.csv");if(!a().existsSync(t))return new Response(JSON.stringify({error:"No subscribers found."}),{status:400});let s=a().readFileSync(t,"utf8").split("\n").filter(e=>e.trim()).filter(e=>e.split(",")[0]!==r);return a().writeFileSync(t,s.join("\n"),"utf8"),new Response(JSON.stringify({success:!0}),{status:200})}catch(e){return console.error("Error in unsubscribe API:",e),new Response(JSON.stringify({error:"Internal Server Error"}),{status:500})}}let d=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/unsubscribe/route",pathname:"/api/unsubscribe",filename:"route",bundlePath:"app/api/unsubscribe/route"},resolvedPagePath:"/home/runner/work/hmoni/hmoni/app/api/unsubscribe/route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:b,staticGenerationAsyncStorage:f,serverHooks:m}=d,h="/api/unsubscribe/route";function x(){return(0,u.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}},9303:(e,r,t)=>{e.exports=t(517)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948],()=>t(3326));module.exports=s})();